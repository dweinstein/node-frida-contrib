#!/usr/bin/env node --harmony --harmony_arrow_functions
'use strict';
const listApps = require('../common/list-apps');
const resolveDevice = require('../common/resolve-device');
const argv = require('minimist')(
  process.argv.slice(2), {
  default: {
    remote: false
  }
});

const remote = argv.remote || argv.R;

resolveDevice({remote: remote})
.then(device => {
  return listApps(device)
    .then(res => {
      console.log(res);
    })
    .catch(err => {
        console.error(err);
        process.exit(1);
    });
});
